<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd">

	<object name="_apmHandler" class="co.elastic.apm.mule4.agent.ApmHandler" />

	<object name="_muleProcessorInterceptorFactory"
		class="co.elastic.apm.mule4.agent.MuleProcessorInterceptorFactory" />

	<object doc:name="Object" name="_apmPipelineNotifications" class="co.elastic.apm.mule4.agent.ApmPipelineNotificationListener" />
	
	<notifications>
		<notification event="PIPELINE-MESSAGE"/>
		<notification-listener ref="_apmPipelineNotifications" />
	</notifications>

</mule>
